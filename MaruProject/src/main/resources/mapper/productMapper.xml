<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ezen.maru.pjt.product">
  <select id="getProductList" resultType="productVo">
    select * from product order by product_idx desc
  </select>

  <!-- ================================================= -->
  <insert id="productAdd" parameterType="productVo">
    insert into product (
    product_name, product_price, product_size, product_delivery_info,
    product_major_category, product_minor_category, product_inventory
    ) values (
    #{product_name}, #{product_price}, #{product_size}, #{product_delivery_info},
    #{product_major_category}, #{product_minor_category}, #{product_inventory})
  </insert>
  <insert id="productAdd_file" parameterType="fileVo">
    INSERT INTO product_photo (
    product_idx, file_original, file_system, file_extension
    ) VALUES (
    #{product_idx}, #{file_original}, #{file_system}, #{file_extension}
    )
  </insert>



  <select id="getProduct" parameterType="int" resultType="productVo">
    select * from product where product_idx = #{product_idx}
  </select>
  
  <update id="upHit" parameterType="int">
    UPDATE announce
    SET
    hit = hit + 1
    WHERE
    idx = #{idx}
  </update>

  <update id="noticeEditProcess" parameterType="boardVo">
    UPDATE announce
    SET
    title = #{title},
    content = #{content},
    file_original = #{file_original},
    file_system = #{file_system},
    file_extension = #{file_extension}
    WHERE
    idx = #{idx}
  </update>
  <delete id="noticeDeleteProcess" parameterType="int">
    delete from announce
    where idx = #{idx}
  </delete>
</mapper>	